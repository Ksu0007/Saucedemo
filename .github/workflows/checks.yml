name: run tests

on:
 push:
  branches: "main"

jobs:
 run-tests:
  runs-on: ubuntu-latest

  steps:
   - name: Checkout
     uses: actions/checkout@v4.1.2

   - name: Setup Java JDK
     uses: actions/setup-java@v4.2.1
     with: 
      java-version: '17'
      distribution: 'corretto'
      cache: maven

   - name: Install Chrome
     run: |
          wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
          sudo dpkg -i google-chrome-stable_current_amd64.deb
          sudo apt-get install -f

   - name: Install ChromeDriver
     run: |
          LATEST=$(wget -q -O - http://chromedriver.storage.googleapis.com/LATEST_RELEASE)
          wget http://chromedriver.storage.googleapis.com/$LATEST/chromedriver_linux64.zip
          unzip chromedriver_linux64.zip
          sudo mv chromedriver /usr/local/bin/chromedriver
          sudo chmod +x /usr/local/bin/chromedriver




   - name: run tests
     run: mvn test
   
  
